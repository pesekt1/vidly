(this.webpackJsonpvidly=this.webpackJsonpvidly||[]).push([[0],{109:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),s=a.n(o),c=(a(67),a(3)),l=a(4),i=a(6),u=a(5),m=a(7),p=a(24),h=a(37),d=a(22),v=a(61),b=a(9),f=a.n(b),g=a(23),j=a.n(g),O=a(15),y=a(25),k=a.n(y);k.a.defaults.baseURL="https://infinite-sierra-87329.herokuapp.com/api",k.a.interceptors.response.use(null,(function(e){return console.log("interceptor called"),e.response&&e.response.status>=400&&e.response.status<500||(h.b.error("Unexpected error occured"),console.log("logging unexpected error",e)),Promise.reject(e)}));var E={get:k.a.get,delete:k.a.delete,post:k.a.post,put:k.a.put,setJwt:function(e){k.a.defaults.headers.common["x-auth-token"]=e}};function w(e){return E.get("/movies/"+e)}function S(e){return E.delete("/movies/"+e._id)}function C(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e._id){a.next=7;break}return delete(t=Object(d.a)({},e))._id,a.next=5,f.a.awrap(E.put("/movies/"+e._id,t));case 5:a.next=9;break;case 7:return a.next=9,f.a.awrap(E.post("/movies",e));case 9:case"end":return a.stop()}}))}function N(){return E.get("/genres")}var x=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemsCount,a=e.pageSize,n=e.onPageChange,o=e.currentPage,s=Math.ceil(t/a),c=j.a.range(1,s+1);return 1===c.length?null:r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:e===o?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",onClick:function(){return n(e)}},e))}))))}}]),t}(n.Component),I=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.genres,n=t.selectedGenre,o=0===n?"list-group-item active":"list-group-item";return r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:o,onClick:function(){return e.props.onClick(0)}},"All Genres"),a.map((function(t){return r.a.createElement("li",{key:t._id,className:n===t.name?"list-group-item active":"list-group-item",onClick:function(){return e.props.onClick(t.name)}},t.name)})))}}]),t}(n.Component);function P(e,t,a){var n=(t-1)*a;return j()(e).slice(n).take(a).value()}var R=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="fa fa-heart";return e+=this.props.liked?"":"-o",r.a.createElement("i",{className:e,onClick:this.props.onClick})}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).raiseSort=function(e){var t=a.props,n=t.onSort,r=t.sortColumn,o="asc";e===r.path&&(o="asc"===r.order?"desc":"asc"),n({path:e,order:o})},a.renderSortIcon=function(e){var t=a.props.sortColumn;return e.path!==t.path?null:"asc"===t.order?r.a.createElement("i",{className:"fa fa-sort-asc"}):r.a.createElement("i",{className:"fa fa-sort-desc"})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.columns;return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(t){return r.a.createElement("th",{key:t.path||t.key,onClick:function(){return e.raiseSort(t.path)},scope:"col"},t.label,e.renderSortIcon(t))}))))}}]),t}(n.Component),G=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderCell",value:function(e,t){return t.content?t.content(e):j.a.get(e,t.path)}},{key:"getCellKey",value:function(e,t){return e._id+(t.path||t.key)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t._id},n.map((function(a){return r.a.createElement("td",{key:e.getCellKey(t,a)},e.renderCell(t,a))})))})))}}]),t}(n.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.sortColumn,n=e.onSort,o=e.columns;return r.a.createElement("table",{className:"table"},r.a.createElement(_,{columns:o,sortColumn:a,onSort:n}),r.a.createElement(G,{data:t,columns:o}))}}]),t}(n.Component),L=a(57),U=a.n(L);function M(){return localStorage.getItem("token")}E.setJwt(M());var D={login:function(e,t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(E.post("/auth",{email:e,password:t}));case 2:a=r.sent,n=a.data,localStorage.setItem("token",n);case 5:case"end":return r.stop()}}))},loginWithJwt:function(e){localStorage.setItem("token",e)},logout:function(){localStorage.removeItem("token")},register:function(e){localStorage.setItem("token",e.headers["x-auth-token"])},getCurrentUser:function(){try{var e=localStorage.getItem("token");return U()(e)}catch(t){return null}},getJwt:M},q=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).columns=[{path:"title",label:"Title",content:function(e){return r.a.createElement(O.b,{to:"/movies/".concat(e._id)},e.title)}},{path:"genre.name",label:"Name"},{path:"numberInStock",label:"Stock"},{path:"dailyRentalRate",label:"Rate"},{key:"like",content:function(t){return r.a.createElement(R,{liked:t.liked,onClick:function(){return e.props.onLike(t)}})}}],e.deleteColumn={key:"delete",content:function(t){return r.a.createElement("button",{onClick:function(){return e.props.onDelete(t)},className:"btn btn-danger btn-sm"},"Delete")}};var a=D.getCurrentUser();return a&&a.isAdmin&&e.columns.push(e.deleteColumn),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.sortColumn,n=e.onSort;return r.a.createElement(A,{sortColumn:a,onSort:n,data:t,columns:this.columns})}}]),t}(n.Component),J=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{name:"query",value:t,onChange:a,className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"})},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",movies:[],genres:[],pageSize:4,currentPage:1,sortColumn:{path:"title",order:"asc"},selectedGenre:0},a.handleDelete=function(e){var t,n,r,o,s,c,l;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=a.state.movies,n=a.state,r=n.movies,o=n.currentPage,s=n.pageSize,c=r.filter((function(t){return t._id!==e._id})),l=a.filterGender(c),0===P(l,o,s).length&&a.state.currentPage>1&&a.setState({currentPage:o-1}),a.setState({movies:c}),i.prev=7,i.next=10,f.a.awrap(S(e));case 10:i.next=16;break;case 12:i.prev=12,i.t0=i.catch(7),i.t0.response&&404===i.t0.response.status&&alert("movie has already been deleted"),a.setState({posts:t});case 16:case"end":return i.stop()}}),null,null,[[7,12]])},a.handleLike=function(e){var t=Object(v.a)(a.state.movies),n=a.state.movies.indexOf(e);t[n]=Object(d.a)({},e),t[n].liked=!t[n].liked,a.setState({movies:t})},a.handlePagination=function(e){a.setState({currentPage:e})},a.handleGenres=function(e){a.setState({selectedGenre:e,currentPage:1,search:""})},a.handleSort=function(e){a.setState({sortColumn:e})},a.handleSearch=function(e){var t=e.currentTarget;a.setState({search:t.value}),t.value.length>0&&a.setState({selectedGenre:0,currentPage:1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(N());case 2:return e=r.sent,t=e.data,r.next=6,f.a.awrap(E.get("/movies"));case 6:a=r.sent,n=a.data,this.setState({movies:n,genres:t});case 9:case"end":return r.stop()}}),null,this)}},{key:"filterGender",value:function(e){var t=this;return 0===this.state.selectedGenre?e:e.filter((function(e){return e.genre.name===t.state.selectedGenre}))}},{key:"filterSearch",value:function(e){var t=this;return e.filter((function(e){return e.title.toLowerCase().startsWith(t.state.search.toLowerCase())}))}},{key:"render",value:function(){this.state.movies.length;var e=this.state,t=e.search,a=e.pageSize,n=e.movies,o=e.currentPage,s=e.genres,c=e.sortColumn,l=e.selectedGenre,i=t?this.filterSearch(n):this.filterGender(n),u=P(j.a.orderBy(i,[c.path],[c.order]),o,a);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(I,{onClick:this.handleGenres,genres:s,selectedGenre:l})),r.a.createElement("div",{className:"col"},this.props.user&&r.a.createElement(O.b,{to:"movies/new",className:"btn btn-primary"},"New Movie"),r.a.createElement("p",null,"Showing ",i.length," movies from the database."),r.a.createElement(J,{onChange:this.handleSearch,value:this.state.search}),r.a.createElement(q,{movies:u,onLike:this.handleLike,onDelete:this.handleDelete,sortColumn:c,onSort:this.handleSort}))),r.a.createElement(x,{itemsCount:i.length,pageSize:a,onPageChange:this.handlePagination,currentPage:o}))}}]),t}(n.Component),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(O.b,{className:"navbar-brand",to:"/"},"Vidly"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(O.c,{className:"nav-link",to:"/customers"},"Customers ",r.a.createElement("span",{className:"sr-only"},"(current)")),r.a.createElement(O.b,{className:"nav-link",to:"/rentals"},"Rentals"),r.a.createElement(O.c,{className:"nav-link",to:"/movies"},"Movies"),!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.c,{className:"nav-link",to:"/login"},"Login"),r.a.createElement(O.c,{className:"nav-link",to:"/register"},"Register")),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.c,{className:"nav-link",to:"/"},e.name),r.a.createElement(O.c,{className:"nav-link",to:"/logout"},"Logout")))))}}]),t}(n.Component),z=a(29),F=function(e){var t=e.path,a=e.component,n=e.render,o=Object(z.a)(e,["path","component","render"]),s=D.getCurrentUser();return console.log("protected route called"),console.log(e),r.a.createElement(p.b,Object.assign({path:t},o,{render:function(e){return s?a?r.a.createElement(a,e):n(e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Customers")}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Rentals")}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Not found")}}]),t}(n.Component),$=a(14),H=a.n($),Q=a(32),X=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.error,o=Object(z.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({name:t,id:t,className:"form-control"},o)),n&&r.a.createElement("div",{className:"alert alert-danger"},n))}}]),t}(n.Component),Y=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.options,o=e.error,s=Object(z.a)(e,["name","label","options","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("select",Object.assign({name:t,id:t},s,{className:"form-control"}),r.a.createElement("option",{value:""}),n.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),o&&r.a.createElement("div",{className:"alert alert-danger"},o))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.schema={},a.validate=function(){var e=H.a.object(a.schema).validate(a.state.data,{abortEarly:!1}).error;if(!e)return null;var t={},n=!0,r=!1,o=void 0;try{for(var s,c=e.details[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;t[l.path[0]]=l.message}}catch(i){r=!0,o=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(Q.a)({},t,n),o=Object(Q.a)({},t,a.schema[t]),s=H.a.object(o).validate(r).error;return s?s.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.handleChange=function(e){var t=e.currentTarget,n=Object(d.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var o=Object(d.a)({},a.state.data);o[t.name]=t.value,a.setState({data:o,errors:n})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,o=n.data,s=n.errors;return r.a.createElement(X,{type:a,value:o[e],onChange:this.handleChange,error:s[e],name:e,label:t})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,o=n.data,s=n.errors;return r.a.createElement(Y,{name:e,value:o[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}},{key:"renderButton",value:function(e){return r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.validate()},e)}}]),t}(n.Component),ee=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:{username:"",password:""},errors:{}},n.Joi=a(14),n.schema={username:H.a.string().required().label("User name"),password:H.a.string().required().label("Password")},n.doSubmit=function(){var e,t,a,r,o;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.props.location.state,console.log(n.props),s.prev=2,t=n.state.data,a=t.username,r=t.password,s.next=6,f.a.awrap(D.login(a,r));case 6:window.location=e?e.from.pathname:"/",s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),s.t0.response&&400===s.t0.response.status&&((o=Object(d.a)({},n.state.errors)).password=s.t0.response.data,o.username=s.t0.response.data,n.setState({errors:o}));case 12:case"end":return s.stop()}}),null,null,[[2,9]])},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return D.getCurrentUser()?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login form"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Login")))}}]),t}(Z);function te(e){var t={};return t.email=e.username,t.name=e.name,t.password=e.password,E.post("/users",t)}var ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:{username:"",password:"",name:""},errors:{}},n.Joi=a(14),n.schema={username:H.a.string().required().label("User name").email({tlds:{allow:["com","net"]}}),password:H.a.string().required().min(5).label("Password"),name:H.a.string().required().label("Name")},n.doSubmit=function(){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(te(n.state.data));case 3:e=a.sent,D.register(e),window.location="/",a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0.response&&400===a.t0.response.status&&((t=Object(d.a)({},n.state.errors)).username=a.t0.response.data,n.setState({errors:t}));case 11:case"end":return a.stop()}}),null,null,[[0,8]])},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Register form"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")))}}]),t}(Z),ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:{title:"",genreId:"",numberInStock:"",dailyRentalRate:""},genres:[],errors:{}},n.Joi=a(14),n.schema={_id:H.a.string(),title:H.a.string().required().label("Title"),genreId:H.a.string().required().label("Genre"),numberInStock:H.a.string().required().label("Stock"),dailyRentalRate:H.a.string().required().label("Rate")},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"populateGenres",value:function(){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(N());case 2:e=a.sent,t=e.data,console.log("movie form genres",t),this.setState({genres:t});case 6:case"end":return a.stop()}}),null,this)}},{key:"populateMovie",value:function(){var e,t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e=this.props.match.params.id,console.log("after populate movie in movie form, movieId:",e),"new"!==e){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,f.a.awrap(w(e));case 7:t=n.sent,a=t.data,this.setState({data:this.mapToViewModel(a)}),n.next=16;break;case 12:if(n.prev=12,n.t0=n.catch(0),!(n.t0.response&&n.t0.response.status>=404)){n.next=16;break}return n.abrupt("return",this.props.history.replace("/not-found"));case 16:case"end":return n.stop()}}),null,this,[[0,12]])}},{key:"componentDidMount",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(this.populateGenres());case 2:return e.next=4,f.a.awrap(this.populateMovie());case 4:case"end":return e.stop()}}),null,this)}},{key:"mapToViewModel",value:function(e){return{_id:e._id,title:e.title,genreId:e.genre._id,numberInStock:e.numberInStock,dailyRentalRate:e.dailyRentalRate}}},{key:"doSubmit",value:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(C(this.state.data));case 2:this.props.history.push("/movies"),console.log("form submitted");case 4:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Movie form"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("title","Title"),this.renderSelect("genreId","Genre",this.state.genres),this.renderInput("numberInStock","Number in stock"),this.renderInput("dailyRentalRate","Rate"),this.renderButton("Save")))}}]),t}(Z),re=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){D.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(n.Component),oe=(a(108),a(109),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=D.getCurrentUser();this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("main",{className:"container"},r.a.createElement(h.a,null),r.a.createElement(T,{user:e}),r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/logout",component:re}),r.a.createElement(p.b,{path:"/login",component:ee}),r.a.createElement(p.b,{path:"/register",component:ae}),r.a.createElement(F,{path:"/movies/:id",component:ne}),r.a.createElement(p.b,{path:"/movies",render:function(t){return r.a.createElement(B,Object.assign({},t,{user:e}))}}),r.a.createElement(p.b,{path:"/customers",component:V}),r.a.createElement(p.b,{path:"/rentals",component:W}),r.a.createElement(p.b,{path:"/not-found",component:K}),r.a.createElement(p.a,{from:"/",exact:!0,to:"/movies"}),r.a.createElement(p.a,{to:"/not-found"}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110),a(111);var se=a(120),ce=a(19);var le={init:function(){se.a({dsn:"https://2c6a6f0b108b43c6a80dcfeb9da961be@sentry.io/1962493"})},log:function(e){ce.a(e)}};console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://infinite-sierra-87329.herokuapp.com/api"})),le.init(),s.a.render(r.a.createElement(O.a,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){e.exports=a(113)},67:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.0df8af45.chunk.js.map